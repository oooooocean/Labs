2022-03-25 10:03:21.427 | ERROR    | conf.logger:log_request_error:16 - uid: '', requst: HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/v1/login/', version='HTTP/1.1', remote_ip='127.0.0.1'), query: '', body b'{\n   \n    "code": "123456"\n}'
Traceback (most recent call last):

  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
             │       │    │            │    └ {}
             │       │    │            └ <views.login.login_views.LoginHandler object at 0x7fbd7a20e040>
             │       │    └ []
             │       └ <views.login.login_views.LoginHandler object at 0x7fbd7a20e040>
             └ <bound method LoginHandler.post of <views.login.login_views.LoginHandler object at 0x7fbd7a20e040>>

  File "/Users/qiangchen/Desktop/Labs/Sao/views/login/login_views.py", line 20, in post
    assert validate_phone(phone), '手机号不正确'
           │              └ None
           └ <function validate_phone at 0x7fbd7a1cf4c0>

  File "/Users/qiangchen/Desktop/Labs/Sao/service/validator.py", line 8, in validate_phone
    return re.match(phone_pattern, phone)
           │  │     │              └ None
           │  │     └ '^1(3[0-9]|4[5,7]|5[0,1,2,3,5,6,7,8,9]|6[2,5,6,7]|7[0,1,7,8]|8[0-9]|9[1,8,9])\\d{8}$'
           │  └ <function match at 0x7fbd75e31ee0>
           └ <module 're' from '/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/re.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/re.py", line 191, in match
    return _compile(pattern, flags).match(string)
           │        │        │            └ None
           │        │        └ 0
           │        └ '^1(3[0-9]|4[5,7]|5[0,1,2,3,5,6,7,8,9]|6[2,5,6,7]|7[0,1,7,8]|8[0-9]|9[1,8,9])\\d{8}$'
           └ <function _compile at 0x7fbd75e76ca0>

TypeError: expected string or bytes-like object
2022-03-25 10:03:30.689 | ERROR    | conf.logger:log_request_error:16 - uid: '', requst: HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='POST', uri='/v1/login/', version='HTTP/1.1', remote_ip='127.0.0.1'), query: '', body b'{\n   \n    "code": "123456"\n}'
Traceback (most recent call last):

  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
             │       │    │            │    └ {}
             │       │    │            └ <views.login.login_views.LoginHandler object at 0x7fbd7a20e0a0>
             │       │    └ []
             │       └ <views.login.login_views.LoginHandler object at 0x7fbd7a20e0a0>
             └ <bound method LoginHandler.post of <views.login.login_views.LoginHandler object at 0x7fbd7a20e0a0>>

  File "/Users/qiangchen/Desktop/Labs/Sao/views/login/login_views.py", line 20, in post
    assert validate_phone(phone), '手机号不正确'
           │              └ None
           └ <function validate_phone at 0x7fbd7a1cf4c0>

  File "/Users/qiangchen/Desktop/Labs/Sao/service/validator.py", line 8, in validate_phone
    return re.match(phone_pattern, phone)
           │  │     │              └ None
           │  │     └ '^1(3[0-9]|4[5,7]|5[0,1,2,3,5,6,7,8,9]|6[2,5,6,7]|7[0,1,7,8]|8[0-9]|9[1,8,9])\\d{8}$'
           │  └ <function match at 0x7fbd75e31ee0>
           └ <module 're' from '/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/re.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/re.py", line 191, in match
    return _compile(pattern, flags).match(string)
           │        │        │            └ None
           │        │        └ 0
           │        └ '^1(3[0-9]|4[5,7]|5[0,1,2,3,5,6,7,8,9]|6[2,5,6,7]|7[0,1,7,8]|8[0-9]|9[1,8,9])\\d{8}$'
           └ <function _compile at 0x7fbd75e76ca0>

TypeError: expected string or bytes-like object
