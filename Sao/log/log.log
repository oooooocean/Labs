2022-03-21 13:51:34,354 web.py[line:1789] ERROR Uncaught exception GET /album/photo/ (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 47, in prepare
    jwtPayload = JWTUtils.parse(jwt_string)
  File "/Users/qiangchen/Desktop/Labs/Sao/common/jwt_utils.py", line 20, in parse
    payload = jwt.decode(jwt_string, JWTUtils.SECRET, algorithms='HS256')
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 119, in decode
    decoded = self.decode_complete(jwt, key, algorithms, options, **kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 106, in decode_complete
    self._validate_claims(payload, merged_options, **kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 142, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 177, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1681, in _execute
    result = self.prepare()
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 51, in prepare
    raise ERROR_CODE_1003
common.exception.SaoException: ('登录过期', 1003)
2022-03-21 13:51:34,362 web.py[line:2239] ERROR 500 GET /album/photo/ (127.0.0.1) 13.05ms
2022-03-21 13:51:42,189 web.py[line:1789] ERROR Uncaught exception GET /album/photo/ (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 47, in prepare
    jwtPayload = JWTUtils.parse(jwt_string)
  File "/Users/qiangchen/Desktop/Labs/Sao/common/jwt_utils.py", line 20, in parse
    payload = jwt.decode(jwt_string, JWTUtils.SECRET, algorithms='HS256')
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 119, in decode
    decoded = self.decode_complete(jwt, key, algorithms, options, **kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 106, in decode_complete
    self._validate_claims(payload, merged_options, **kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 142, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 177, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1681, in _execute
    result = self.prepare()
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 51, in prepare
    raise ERROR_CODE_1003
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1681, in _execute
    result = self.prepare()
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 51, in prepare
    raise ERROR_CODE_1003
common.exception.SaoException: ('登录过期', 1003)
2022-03-21 13:51:42,221 web.py[line:2239] ERROR 500 GET /album/photo/ (127.0.0.1) 32.49ms
2022-03-21 13:52:05,189 web.py[line:1789] ERROR Uncaught exception GET /album/photo/ (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 47, in prepare
    jwtPayload = JWTUtils.parse(jwt_string)
  File "/Users/qiangchen/Desktop/Labs/Sao/common/jwt_utils.py", line 20, in parse
    payload = jwt.decode(jwt_string, JWTUtils.SECRET, algorithms='HS256')
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 119, in decode
    decoded = self.decode_complete(jwt, key, algorithms, options, **kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 106, in decode_complete
    self._validate_claims(payload, merged_options, **kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 142, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/jwt/api_jwt.py", line 177, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1681, in _execute
    result = self.prepare()
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 51, in prepare
    raise ERROR_CODE_1003
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1681, in _execute
    result = self.prepare()
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 51, in prepare
    raise ERROR_CODE_1003
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1681, in _execute
    result = self.prepare()
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 51, in prepare
    raise ERROR_CODE_1003
common.exception.SaoException: ('登录过期', 1003)
2022-03-21 13:52:05,200 web.py[line:2239] ERROR 500 GET /album/photo/ (127.0.0.1) 12.86ms
2022-03-21 13:56:26,372 web.py[line:1789] ERROR Uncaught exception GET /album/photo/ (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 15, in get
    album_ids = self.get_query_arguments['album_ids']
TypeError: 'method' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 13:56:26,381 web.py[line:2239] ERROR 500 GET /album/photo/ (127.0.0.1) 13.81ms
2022-03-21 14:09:33,659 web.py[line:1789] ERROR Uncaught exception GET /album/photo/ (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 15, in get
    album_ids = self.get_query_arguments['album_ids']
TypeError: 'method' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 14:14:32,020 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_ids=1,%202 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_ids=1,%202', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 15, in get
    album_ids: str = self.get_query_arguments['album_ids']
TypeError: 'method' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 14:14:41,273 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_ids=1,2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_ids=1,2', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 15, in get
    album_ids: str = self.get_query_arguments['album_ids']
TypeError: 'method' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    raise ERROR_CODE_1001
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 14:15:46,058 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_ids=1,2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_ids=1,2', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 15, in get
    album_ids: str = self.get_query_arguments['album_ids']
TypeError: 'method' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 18, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 14:16:29,654 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_ids=1,2 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_ids=1,2', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 19, in get
    album_ids = album_ids.split(',')
AttributeError: 'list' object has no attribute 'split'
2022-03-21 14:16:29,665 web.py[line:2239] ERROR 500 GET /album/photo/?album_ids=1,2 (127.0.0.1) 66.93ms
2022-03-21 14:18:37,746 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 20, in get
    self.success(result)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 33, in success
    self.finish(json.dumps({'msg': ERROR_CODE_0.msg, 'code': ERROR_CODE_0.code, 'data': data}))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Photo is not JSON serializable
2022-03-21 14:18:37,769 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 63.73ms
2022-03-21 15:01:16,244 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    photos = [item.to_json() for item in cls.query.filter(criterion).offset(offset).limit(limit).all()]
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 401, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 283, in _raise_for_expected
    util.raise_(exc.ArgumentError(msg, code=code), replace_context=err)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: SQL expression for WHERE/HAVING role expected, got ((<sqlalchemy.sql.elements.BinaryExpression object at 0x7feeb913de80>,),).
2022-03-21 15:01:16,253 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 101.75ms
2022-03-21 15:03:23,138 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    photos = [item.to_json() for item in cls.query.filter(*criterion).offset(offset).limit(limit).all()]
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 401, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 283, in _raise_for_expected
    util.raise_(exc.ArgumentError(msg, code=code), replace_context=err)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: SQL expression for WHERE/HAVING role expected, got (<sqlalchemy.sql.elements.BinaryExpression object at 0x7fdc5713de80>,).
2022-03-21 15:03:23,157 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 64.17ms
2022-03-21 15:08:53,446 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    photos = [item.to_json() for item in cls.query.filter(**criterion).offset(offset).limit(limit).all()]
TypeError: sqlalchemy.orm.query.Query.filter() argument after ** must be a mapping, not tuple
2022-03-21 15:08:53,459 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 64.26ms
2022-03-21 15:09:05,249 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    photos = [item.to_json() for item in cls.query.filter(*criterion).offset(offset).limit(limit).all()]
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 401, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 283, in _raise_for_expected
    util.raise_(exc.ArgumentError(msg, code=code), replace_context=err)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: SQL expression for WHERE/HAVING role expected, got (<sqlalchemy.sql.elements.BinaryExpression object at 0x7fb24a943e80>,).
2022-03-21 15:09:05,281 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 70.99ms
2022-03-21 15:09:27,094 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 17, in paginate
    photos = [item.to_json() for item in cls.query.filter(*criterion).offset(offset).limit(limit).all()]
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 401, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 283, in _raise_for_expected
    util.raise_(exc.ArgumentError(msg, code=code), replace_context=err)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: SQL expression for WHERE/HAVING role expected, got (<sqlalchemy.sql.elements.BinaryExpression object at 0x7ff430943e80>,).
2022-03-21 15:09:27,123 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 67.21ms
2022-03-21 15:10:00,029 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 17, in paginate
    photos = [item.to_json() for item in cls.query.filter(*criterion).offset(offset).limit(limit).all()]
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 401, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 283, in _raise_for_expected
    util.raise_(exc.ArgumentError(msg, code=code), replace_context=err)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: SQL expression for WHERE/HAVING role expected, got (<sqlalchemy.sql.elements.BinaryExpression object at 0x7fd58c13de80>,).
2022-03-21 15:10:00,045 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 82.69ms
2022-03-21 15:13:11,613 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    photos = [item.to_json() for item in cls.query.filter(criterion[0]).offset(offset).limit(limit).all()]
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 401, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 283, in _raise_for_expected
    util.raise_(exc.ArgumentError(msg, code=code), replace_context=err)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: SQL expression for WHERE/HAVING role expected, got (<sqlalchemy.sql.elements.BinaryExpression object at 0x7fb7fd93de80>,).
2022-03-21 15:13:11,625 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 73.12ms
2022-03-21 15:13:34,192 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 17, in paginate
    photos = [item.to_json() for item in cls.query.filter(criterion[0]).offset(offset).limit(limit).all()]
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 401, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 283, in _raise_for_expected
    util.raise_(exc.ArgumentError(msg, code=code), replace_context=err)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: SQL expression for WHERE/HAVING role expected, got (<sqlalchemy.sql.elements.BinaryExpression object at 0x7ffc9b93de80>,).
2022-03-21 15:13:34,218 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 67.29ms
2022-03-21 15:15:17,816 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 9, in paginate
    return model_cls.paginate(limit, page, start, criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 17, in paginate
    photos = [item.to_json() for item in cls.query.filter(*criterion).offset(offset).limit(limit).all()]
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 401, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 283, in _raise_for_expected
    util.raise_(exc.ArgumentError(msg, code=code), replace_context=err)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: SQL expression for WHERE/HAVING role expected, got (<sqlalchemy.sql.elements.BinaryExpression object at 0x7fd995143e80>,).
2022-03-21 15:15:17,829 web.py[line:2239] ERROR 500 GET /album/photo/?album_id=1 (127.0.0.1) 85.80ms
2022-03-21 15:44:30,510 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 18, in paginate
    criterion.append(model_cls.id > int(start))
TypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 22, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:44:53,599 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 18, in paginate
    criterion.append(model_cls.id > int(start))
TypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:45:24,923 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 18, in paginate
    criterion.append(model_cls.id > int(start))
TypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:46:10,538 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 18, in paginate
    criterion.append(model_cls.id > int(start))
TypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:47:07,373 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 12, in paginate
    assert page or start, 'page, start 不能同时为空'
AssertionError: page, start 不能同时为空

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    raise error
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:47:34,276 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 12, in paginate
    assert page or start, 'page, start 不能同时为空'
AssertionError: page, start 不能同时为空

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    raise error
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:47:34,279 web.py[line:1219] ERROR Uncaught exception in write_error
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 12, in paginate
    assert page or start, 'page, start 不能同时为空'
AssertionError: page, start 不能同时为空

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    raise error
common.exception.SaoException: ('非法参数', 1001)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1217, in send_error
    self.write_error(status_code, **kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 38, in write_error
    self.http_response(exc_info[1])
  File "/Users/qiangchen/Desktop/Labs/Sao/views/base/base_views.py", line 30, in http_response
    self.finish(json.dumps({'msg': error.msg, 'code': error.code, 'data': data}))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type AssertionError is not JSON serializable
2022-03-21 15:48:08,803 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 12, in paginate
    assert page or start, 'page, start 不能同时为空'
AssertionError: page, start 不能同时为空

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    raise error
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:49:58,695 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&page=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&page=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 20, in paginate
    return model_cls.paginate(offset, limit, page, *criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    results = cls.query.filter(*criterion).offset(offset).limit(limit).all()
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 388, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 656, in _text_coercion
    return _no_text_coercion(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 348, in _no_text_coercion
    util.raise_(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Textual SQL expression '1' should be explicitly declared as text('1')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    raise error
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:50:03,676 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&page=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&page=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 20, in paginate
    return model_cls.paginate(offset, limit, page, *criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    results = cls.query.filter(*criterion).offset(offset).limit(limit).all()
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 388, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 656, in _text_coercion
    return _no_text_coercion(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 348, in _no_text_coercion
    util.raise_(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Textual SQL expression '1' should be explicitly declared as text('1')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    raise error
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:50:26,247 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&page=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&page=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 20, in paginate
    return model_cls.paginate(offset, limit, page, *criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    results = cls.query.filter(*criterion).offset(offset).limit(limit).all()
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 388, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 656, in _text_coercion
    return _no_text_coercion(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 348, in _no_text_coercion
    util.raise_(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Textual SQL expression '1' should be explicitly declared as text('1')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:50:47,976 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&page=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&page=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 20, in paginate
    return model_cls.paginate(offset, limit, page, *criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    results = cls.query.filter(*criterion).offset(offset).limit(limit).all()
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 388, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 656, in _text_coercion
    return _no_text_coercion(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 348, in _no_text_coercion
    util.raise_(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Textual SQL expression '1' should be explicitly declared as text('1')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:51:45,499 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1&page=1&limit=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1&page=1&limit=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 20, in paginate
    return model_cls.paginate(offset, limit, page, *criterion)
  File "/Users/qiangchen/Desktop/Labs/Sao/models/base_model.py", line 16, in paginate
    results = cls.query.filter(*criterion).offset(offset).limit(limit).all()
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/base.py", line 110, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in filter
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/base.py", line 230, in generate
    fn(self, *args[1:], **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 1696, in filter
    criterion = coercions.expect(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 188, in expect
    resolved = impl._literal_coercion(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 388, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 656, in _text_coercion
    return _no_text_coercion(element, argname)
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 348, in _no_text_coercion
    util.raise_(
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Textual SQL expression '1' should be explicitly declared as text('1')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 23, in get
    raise ERROR_CODE_1001
common.exception.SaoException: ('非法参数', 1001)
2022-03-21 15:55:19,960 web.py[line:1789] ERROR Uncaught exception GET /album/photo/?album_id=1 (127.0.0.1)
HTTPServerRequest(protocol='http', host='127.0.0.1:8000', method='GET', uri='/album/photo/?album_id=1', version='HTTP/1.1', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 17, in get
    self.success(paginate(self, Photo, Photo.album_id == album_id))
  File "/Users/qiangchen/Desktop/Labs/Sao/service/paginate.py", line 12, in paginate
    assert page or start, 'page, start 不能同时为空'
AssertionError: page, start 不能同时为空

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qiangchen/Desktop/Labs/Sao/venv/lib/python3.9/site-packages/tornado/web.py", line 1702, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/Users/qiangchen/Desktop/Labs/Sao/views/album/photo_views.py", line 21, in get
    raise error
common.exception.SaoException: ('非法参数', 1001)
